# C# 算术运算符

C# 提供了多种算术运算符，用于对数值类型的操作数执行算术运算。 <mcreference link="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/" index="1">1</mcreference> 这些运算符是编程中进行数学计算的基础。

## 1. 基本算术运算符

下表列出了 C# 支持的基本算术运算符：

| 运算符 | 描述                     | 示例 (设 `a = 10`, `b = 20`) | 结果 | 
| :----- | :----------------------- | :--------------------------- | :--- |
| `+`    | 把两个操作数相加         | `a + b`                      | `30` | 
| `-`    | 从第一个操作数中减去第二个操作数 | `a - b`                      | `-10`| 
| `*`    | 把两个操作数相乘         | `a * b`                      | `200`| 
| `/`    | 分子除以分母             | `b / a`                      | `2`  | 
| `%`    | 取模运算符，整除后的余数 | `b % a`                      | `0`  | 

**注意:** <mcreference link="https://blog.csdn.net/qq_46689623/article/details/135962039" index="3">3</mcreference>
- 当 `/` 运算符的两个操作数都是整数时，结果也是整数（小数部分被截断）。例如，`5 / 2` 的结果是 `2`。 <mcreference link="https://blog.csdn.net/qq_46689623/article/details/135962039" index="3">3</mcreference>
- 如果希望得到浮点数结果，至少有一个操作数应该是浮点类型。例如，`5 / 2.0` 的结果是 `2.5`。 <mcreference link="https://blog.csdn.net/qq_46689623/article/details/135962039" index="3">3</mcreference>
- `%` 取模运算符的操作数可以是整数或浮点数。 <mcreference link="https://blog.csdn.net/qq_46689623/article/details/135962039" index="3">3</mcreference>

```csharp
int a = 21;
int b = 10;
int c;

c = a + b;
Console.WriteLine("a + b = " + c); // 输出: a + b = 31

c = a - b;
Console.WriteLine("a - b = " + c); // 输出: a - b = 11

c = a * b;
Console.WriteLine("a * b = " + c); // 输出: a * b = 210

c = a / b;
Console.WriteLine("a / b = " + c); // 输出: a / b = 2 (整数除法)

c = a % b;
Console.WriteLine("a % b = " + c); // 输出: a % b = 1

double d1 = 5.0;
double d2 = 2.0;
Console.WriteLine("d1 / d2 = " + (d1 / d2)); // 输出: d1 / d2 = 2.5
```
<mcreference link="https://www.runoob.com/csharp/csharp-operators.html" index="2">2</mcreference>

## 2. 自增和自减运算符

C# 还提供了自增 (`++`) 和自减 (`--`) 运算符，用于将变量的值增加或减少 1。 <mcreference link="https://www.runoob.com/csharp/csharp-operators.html" index="2">2</mcreference> <mcreference link="https://www.malema.net/csharp/operators.html" index="4">4</mcreference> 这些是一元运算符，只能作用于变量。 <mcreference link="https://blog.csdn.net/qq_46689623/article/details/135962039" index="3">3</mcreference>

它们可以作为前缀或后缀使用：

- **前缀 (`++variable`, `--variable`)**: 运算符先作用于变量（增加或减少值），然后返回变量的新值。 <mcreference link="https://www.runoob.com/csharp/csharp-operators.html" index="2">2</mcreference>
- **后缀 (`variable++`, `variable--`)**: 运算符先返回变量的原始值，然后再对变量进行增加或减少操作。 <mcreference link="https://www.runoob.com/csharp/csharp-operators.html" index="2">2</mcreference>

| 运算符   | 描述           | 示例 (设 `a = 10`) | `a` 的最终值 | 表达式的值 |
| :---- | :----------- | :-------------- | :------- | :---- |
| `++a` | 前缀自增：先加1，再使用 | `c = ++a;`      | `11`     | `11`  |
| `a++` | 后缀自增：先使用，再加1 | `c = a++;`      | `11`     | `10`  |
| `--a` | 前缀自减：先减1，再使用 | `c = --a;`      | `9`      | `9`   |
| `a--` | 后缀自减：先使用，再减1 | `c = a--;`      | `9`      | `10`  |

```csharp
int a = 10;
int c;

// 前缀自增
c = ++a; 
Console.WriteLine("前缀自增: a = " + a + ", c = " + c); // 输出: 前缀自增: a = 11, c = 11

a = 10; // 重置 a
// 后缀自增
c = a++;
Console.WriteLine("后缀自增: a = " + a + ", c = " + c); // 输出: 后缀自增: a = 11, c = 10

a = 10; // 重置 a
// 前缀自减
c = --a;
Console.WriteLine("前缀自减: a = " + a + ", c = " + c); // 输出: 前缀自减: a = 9, c = 9

a = 10; // 重置 a
// 后缀自减
c = a--;
Console.WriteLine("后缀自减: a = " + a + ", c = " + c); // 输出: 后缀自减: a = 9, c = 10
```
<mcreference link="https://www.runoob.com/csharp/csharp-operators.html" index="2">2</mcreference>

## 3. 运算符优先级和结合性

在包含多个运算符的表达式中，运算符的优先级和结合性决定了运算的执行顺序。 <mcreference link="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/" index="1">1</mcreference>

- **优先级**: 乘法 (`*`)、除法 (`/`)、取模 (`%`) 的优先级高于加法 (`+`) 和减法 (`-`)。 <mcreference link="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/" index="1">1</mcreference>
- **结合性**: 大多数二元算术运算符是左结合的，即从左到右计算。例如 `a + b - c` 被计算为 `(a + b) - c`。 <mcreference link="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/" index="1">1</mcreference>

可以使用括号 `()` 来改变运算顺序。 <mcreference link="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/" index="1">1</mcreference>

```csharp
int result1 = 2 + 3 * 4; // 乘法优先: 2 + 12 = 14
Console.WriteLine("2 + 3 * 4 = " + result1);

int result2 = (2 + 3) * 4; // 括号优先: 5 * 4 = 20
Console.WriteLine("(2 + 3) * 4 = " + result2);
```
<mcreference link="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/" index="1">1</mcreference>

## 4. 一元正负运算符

- `+` (一元加): 返回操作数的值。通常是可选的。
- `-` (一元减): 返回操作数的负值。

```csharp
int positive = +5;
int negative = -10;
Console.WriteLine("Positive: " + positive); // 输出: Positive: 5
Console.WriteLine("Negative: " + negative); // 输出: Negative: -10

int val = 5;
Console.WriteLine(-val); // 输出: -5
```
<mcreference link="https://www.malema.net/csharp/operators.html" index="4">4</mcreference>

理解这些算术运算符对于在 C# 中执行各种计算至关重要。